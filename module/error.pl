#====================================================================================================
#
#	エラー処理
#	error.pl
#
#	---------------------------------------------------------------------------
#
#	2012.08.01 start
#
#====================================================================================================
package ERROR;

use strict;

#------------------------------------------------------------------------------------------------------------
#
#	モジュールコンストラクタ - new
#	-------------------------------------------
#	@param	なし
#	@return	モジュールオブジェクト
#
#------------------------------------------------------------------------------------------------------------
sub new
{
	my $this = shift;
	my $obj = {};
	my (%Info);
	
	$obj = {
		'ERROR'		=> 100,
	};
	
	bless $obj, $this;
	
	return $obj;
}

#------------------------------------------------------------------------------------------------------------
#
#	エラー表示
#	-------------------------------------------
#	@param	$SQL	SQLハンドル
#			$ERROR	エラー番号
#	@return	エラー番号 returnして，どうぞ。
#
#------------------------------------------------------------------------------------------------------------
sub DispError
{
	my $this = shift;
	my ($SQL, $ERROR) = @_;
	
	require('./module/constant.pl');
	
	print $ERROR."\n";
	#print $CON::ERROR_MES{$ERROR}."\n";
	
	# SQLを終わらせる
	if ( defined $SQL->{'DBH'} ) {
		$SQL->end;
	}
	
	return $ERROR;
}

#============================================================================================================
#	モジュール終端
#============================================================================================================
1;
